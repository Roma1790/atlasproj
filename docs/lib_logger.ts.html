<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: lib/logger.ts</title>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./build/entry.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Muli:100,400,700|Oswald:300|Inconsolata,700" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
      integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
      crossorigin="anonymous"
    />
    <link
      type="text/css"
      rel="stylesheet"
      href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css"
    />
    <link type="text/css" rel="stylesheet" href="styles/app.min.css" />
    <link type="text/css" rel="stylesheet" href="styles/iframe.css" />
  </head>

  <body>
    <div id="stickyNavbarOverlay"></div>
    <div class="top-navbar">
      <div class="container">
        <nav class="navbar" role="navigation" aria-label="main navigation">
          <div class="navbar-brand">
            <h1 class="navbar-item">Atlas</h1>

            <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
            </a>
          </div>

          <div class="navbar-menu">
            <div class="navbar-end">
              <div class="navbar-item">
                <a href="https://github.com/chronark/atlas" target="_blank">
                  GitHub
                </a>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </div>
    <div class="container">
      <div class="columns">
        <div class="column is-3" id="sidebarNav">
          <div class="sidebar">
            <nav>
              <h2><a href="index.html">Home</a></h2>
              <div class="category">
                <h3>Classes</h3>
                <ul>
                  <li><a href="Logger.html">Logger</a></li>
                  <li><a href="Logger.Logger.html">Logger</a></li>
                  <li><a href="module.exports.html">module.exports</a></li>
                </ul>
                <h3>Global</h3>
                <ul>
                  <li><a href="global.html#addJobs">addJobs</a></li>
                  <li><a href="global.html#bound">bound</a></li>
                  <li><a href="global.html#clear">clear</a></li>
                  <li><a href="global.html#polygonStyle">polygonStyle</a></li>
                  <li><a href="global.html#removeFrom">removeFrom</a></li>
                  <li><a href="global.html#removeListFromList">removeListFromList</a></li>
                  <li><a href="global.html#strip">strip</a></li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
        <div class="column is-9-desktop">
          <div class="content" id="main-content-wrapper">
            <header class="page-title">
              <p>Source</p>
              <h1>lib/logger.ts</h1>
            </header>

            <section>
              <article>
                <pre class="prettyprint source linenums"><code>/* eslint-disable no-console */

import { LogObject } from "../types/customTypes"

/**
 * @description Custom logger
 * @export
 * @class Logger
 */
class Logger {
  /**
   *Creates an instance of Logger.
   * @memberof Logger
   */
  public constructor() {
    switch (process.env.NODE_ENV) {
      case "production":
        this.disableConsole()
        break
      case "test":
        this.disableConsole()
        break
      default:
        this.info("Development mode detected, verbose-logging enabled.")
        break
    }
  }

  /**
   * @description Disables all console output for production.
   * possible methods are: ["log", "debug", "info", "warn", error"]
   * @memberof Atlas
   */
  private disableConsole(): void {
    if (window) {
      window.console.log = () => {}
      window.console.warn = () => {}
      window.console.error = () => {}
      window.console.debug = () => {}
    }
  }

  /**
   * @description Basic console.log call with additional parameters
   * @static
   * @param {string} [level="info"]
   * @param {String} text
   * @param {object} payload
   * @memberof Logger
   */
  private buildPayload(level: string, payload: LogObject): LogObject {
    if (typeof payload !== "object") {
      payload = { payload }
    }
    payload.timestamp = new Date()
    payload.level = level
    return payload
  }

  /**
   * @description Debug logging
   * @param {string} text
   * @param {object} payload
   * @memberof Logger
   */
  public debug(text: string, payload: LogObject = {}): void {
    payload = this.buildPayload("debug", payload)
    console.debug(text, payload)
  }

  /**
   * @description Info logging
   * @param {string} text
   * @param {object} payload
   * @memberof Logger
   */
  public info(text: string, payload: LogObject = {}): void {
    payload = this.buildPayload("info", payload)
    console.log(text, payload)
  }

  /**
   * @description Warning logging
   * @param {string} text
   * @param {object} payload
   * @memberof Logger
   */
  public warn(text: string, payload: LogObject = {}): void {
    payload = this.buildPayload("warn", payload)
    console.warn(text, payload)
  }

  /**
   * @description Error logging
   * @param {string} text
   * @param {object} payload
   * @memberof Logger
   */
  public error(text: string, payload: LogObject = {}): void {
    payload = this.buildPayload("error", payload)
    console.error(text, payload)
  }
}

const log = new Logger()
export { log }
</code></pre>
              </article>
            </section>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="content has-text-centered">
        <p>
          Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Mon Dec 16 2019
          17:16:11 GMT+0100 (GMT+01:00)
        </p>
        <p class="sidebar-created-by">
          <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with
          <i class="fas fa-heart"></i> by
          <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
        </p>
      </div>
    </footer>

    <script src="scripts/app.min.js"></script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
